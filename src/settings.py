import time
from datetime import datetime
from pydantic import BaseSettings


run_at_ts = int(time.time())
run_at = datetime.fromtimestamp(run_at_ts).strftime(r"%Y-%m-%d %H:%M:%S")
version = "0.1.44"


class AppSettings(BaseSettings):  # type:ignore
    api_prefix: str = "/api"
    basic_auth_user: str = "root"
    basic_auth_passwd: str = "example"

    ics_fetch_vlrgg_match_time_semaphore: int = 15
    gc_trigger_memory_percent_limit: float = 80
    gc_trigger_memory_percent_interval: int = 30


# http://www.freejson.com/countrycode.html
# 补充迪拜、尼尔利亚、台湾
RegionCodeTable = {
    "中国": "CN",
    "中非共和国": "CF",
    "丹麦": "DK",
    "乌克兰": "UA",
    "乌兹别克斯坦": "UZ",
    "乌干达": "UG",
    "乌拉圭": "UY",
    "乍得": "TD",
    "也门": "YE",
    "亚美尼亚": "AM",
    "以色列": "IL",
    "伊拉克": "IQ",
    "伊朗": "IR",
    "伯利兹": "BZ",
    "俄罗斯": "RU",
    "保加利亚": "BG",
    "关岛": "GU",
    "冈比亚": "GM",
    "冰岛": "IS",
    "几内亚": "GN",
    "列支敦士登": "LI",
    "刚果": "CG",
    "利比亚": "LY",
    "利比里亚": "LR",
    "加拿大": "CA",
    "加纳": "GH",
    "加蓬": "GA",
    "匈牙利": "HU",
    "南斯拉夫": "YU",
    "南非": "ZA",
    "博茨瓦纳": "BW",
    "卡塔尔": "QA",
    "卢森堡": "LU",
    "印度": "IN",
    "印度尼西亚": "ID",
    "危地马拉": "GT",
    "厄瓜多尔": "EC",
    "叙利亚": "SY",
    "古巴": "CU",
    "台湾省": "TW",
    "吉尔吉斯坦": "KG",
    "吉布提": "DJ",
    "哈萨克斯坦": "KZ",
    "哥伦比亚": "CO",
    "哥斯达黎加": "CR",
    "喀麦隆": "CM",
    "土库曼斯坦": "TM",
    "土耳其": "TR",
    "圣卢西亚": "LC",
    "圣多美和普林西比": "ST",
    "圣文森特": "VC",
    "圣文森特岛": "VC",
    "圣马力诺": "SM",
    "圭亚那": "GY",
    "坦桑尼亚": "TZ",
    "埃及": "EG",
    "埃塞俄比亚": "ET",
    "塔吉克斯坦": "TJ",
    "塞内加尔": "SN",
    "塞拉利昂": "SL",
    "塞浦路斯": "CY",
    "塞舌尔": "SC",
    "墨西哥": "MX",
    "多哥": "TG",
    "多米尼加共和国": "DO",
    "奥地利": "AT",
    "委内瑞拉": "VE",
    "孟加拉国": "BD",
    "安哥拉": "AO",
    "安圭拉岛": "AI",
    "安提瓜和巴布达": "AG",
    "安道尔共和国": "AD",
    "尼加拉瓜": "NI",
    "尼日利亚": "NG",
    "尼日尔": "NE",
    "尼泊尔": "NP",
    "巴哈马": "BS",
    "巴基斯坦": "PK",
    "巴巴多斯": "BB",
    "巴布亚新几内亚": "PG",
    "巴拉圭": "PY",
    "巴拿马": "PA",
    "巴林": "BH",
    "巴西": "BR",
    "布基纳法索": "BF",
    "布隆迪": "BI",
    "希腊": "GR",
    "库克群岛": "CK",
    "德国": "DE",
    "意大利": "IT",
    "所罗门群岛": "SB",
    "扎伊尔": "ZR",
    "拉脱维亚": "LV",
    "挪威": "NO",
    "捷克": "CZ",
    "摩尔多瓦": "MD",
    "摩洛哥": "MA",
    "摩纳哥": "MC",
    "文莱": "BN",
    "斐济": "FJ",
    "斯威士兰": "SZ",
    "斯洛伐克": "SK",
    "斯洛文尼亚": "SI",
    "斯里兰卡": "LK",
    "新加坡": "SG",
    "新西兰": "NZ",
    "日本": "JP",
    "智利": "CL",
    "朝鲜": "KP",
    "柬埔寨": "KH",
    "格林纳达": "GD",
    "格鲁吉亚": "GE",
    "比利时": "BE",
    "毛里求斯": "MU",
    "汤加": "TO",
    "沙特阿拉伯": "SA",
    "法国": "FR",
    "法属圭亚那": "GF",
    "法属玻利尼西亚": "PF",
    "波兰": "PL",
    "波多黎各": "PR",
    "泰国": "TH",
    "津巴布韦": "ZW",
    "洪都拉斯": "HN",
    "海地": "HT",
    "澳大利亚": "AU",
    "澳门": "MO",
    "爱尔兰": "IE",
    "爱沙尼亚": "EE",
    "牙买加": "JM",
    "特立尼达和多巴哥": "TT",
    "玻利维亚": "BO",
    "瑙鲁": "NR",
    "瑞典": "SE",
    "瑞士": "CH",
    "白俄罗斯": "BY",
    "百慕大群岛": "BM",
    "直布罗陀": "GI",
    "科威特": "KW",
    "秘鲁": "PE",
    "突尼斯": "TN",
    "立陶宛": "LT",
    "索马里": "SO",
    "约旦": "JO",
    "纳米比亚": "NA",
    "缅甸": "MM",
    "罗马尼亚": "RO",
    "美国": "US",
    "老挝": "LA",
    "肯尼亚": "KE",
    "芬兰": "FI",
    "苏丹": "SD",
    "苏里南": "SR",
    "英国": "GB",
    "荷兰": "NL",
    "莫桑比克": "MZ",
    "莱索托": "LS",
    "菲律宾": "PH",
    "萨尔瓦多": "SV",
    "葡萄牙": "PT",
    "蒙古": "MN",
    "蒙特塞拉特岛": "MS",
    "西班牙": "ES",
    "贝宁": "BJ",
    "赞比亚": "ZM",
    "越南": "VN",
    "阿塞拜疆": "AZ",
    "阿富汗": "AF",
    "阿尔及利亚": "DZ",
    "阿尔巴尼亚": "AL",
    "阿拉伯联合酋长国": "AE",
    "阿曼": "OM",
    "阿根廷": "AR",
    "韩国": "KR",
    "香港": "HK",
    "马尔代夫": "MV",
    "马拉维": "MW",
    "马来西亚": "MY",
    "马耳他": "MT",
    "马达加斯加": "MG",
    "马里": "ML",
    "黎巴嫩": "LB",
    # 下面为补充
    "台湾": "TW",
    "迪拜": "AE",
    "尼尔利亚": "NG",
}
